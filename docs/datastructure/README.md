# 数据结构与算法

## 链表

### 链表与数组的区别

- 数组需要一块连续的内存空间来存储，对内存要求比较高，如果我们申请一个 100MB 大小的数组，当内存中没有连续的、足够大的存储空间时，即便内存的剩余总可用空间大于 100MB，仍然会申请失败。
- 链表恰恰相反，它并不需要一块连续的内存空间，它通过“指针”将一组零散的内存块串联起来使用，所以如果我们申请的是 100MB 大小的链表，根本不会有问题。
  ![avatar](https://sf1-ttcdn-tos.pstatp.com/img/motor-img/d5d5bee4be28326ba3c28373808a62cd~noop.jpg)

### 单链表

- 单链表增加删除的时间复杂度 O(1)、查询的时间复杂度为 O(n)
- 数据恰好相反，由于数组是一块连续的内存空间，所以查询的时间复杂度为 O(1)
  - 删除数组第一个元素的时候需要搬移 n-1 个元素，所以时间复杂度为 O(n),当删除最后一个元素时，时间复杂度为 O(1),增加元素同理

### 循环链表

- 循环链表的尾节点的 next 指针不是指向`null`， 而是指向头节点

### 双向链表

- 双向链表包含一个`prev`指针与一个`next`指针，所以双向链表占用的内存比较大
- 某些情况下，双向链表比单向链表更加高效
  - 删除/插入给定指针指向的结点
    - 因为双向链表中的结点已经保存了前驱结点的指针，不需要像单链表那样遍历。所以，针对第二种情况，单链表删除操作需要 O(n) 的时间复杂度，而双向链表只需要在 O(1) 的时间复杂度内就搞定了
  - 删除结点中“值等于某个给定值”的结点
    - 这种情况单链表的时间复杂度与双向链表的时间复杂度是一样的，都是 O(n)

### 数组与链表的优缺点对比

- 数组
  - 优点： 数组简单易用，在实现上使用的是连续的内存空间，可以借助 CPU 的缓存机制，预读数组中的数据，所以访问效率更高
  - 缺点： 数组的大小是固定的，当申请的空间过大可能导致申请不下来，导致内存不足，当申请的过小，会导致空间不够使用，当继续插入元素时，就需要重新申请一个比之前更大空间的数组，然后将之前的数据拷贝到新的数组中，就比较费时
- 链表
  - 优点：链表本身没有大小限制，天然支持动态扩容
  - 缺点：对 CPU 缓存不友好，切需要存储指针，内存需求大，当你频繁的进行插入删除操作时，会导致频繁的内存申请与释放，导致内存碎片
